// smoke_types.qrk
// Covers: core value types + typed declarations + dict static/dynamic keys.

println('== smoke: types ==')

// Basic literals
i = 42
f = 3.14
s = 'hello'
b = true
n = null

println(i)
println(f)
println(s)
println(b)
println(n)

// Typed declarations (parser/analyzer coverage)
count: int = 3
name: str = 'quark'
xs: list = list [1, 2, 3]
d: dict = dict { a: 1, b: 2 }

println(count)
println(name)
println(len(xs))
println(d.a)

// Dict static key access
d.c = 99
println(d.c)

// Dict dynamic key access via helpers
keys = list ['a', 'b', 'c', 'missing']
for k in keys:
    println(dget(d, k))

// Set dynamic key
d = dset(d, 'z', 123)
println(d.z)

// Vector MVP (1D only)
v = vector [1, 2, 3, 4]
println(v)
println(len(v))

w = v + 1
println(w)

u = v * w
println(u)

println(sum(v))
println(min(v))
println(max(v))

// Vector phase-2 helpers
vi = astype(v, 'i64')
println(vi)
println(sum(vi))
println(min(vi))
println(max(vi))

vplus = vi + 2
println(vplus)

vmul = vi * vplus
println(vmul)

vfilled = fillna(vi, 0)
println(vfilled)

println(type(v))
println(type(vi))

v_from_list = to_vector(list [10, 20, 30])
println(v_from_list)
println(sum(v_from_list))

// Categorical helpers (list[str] -> cat -> list[str])
labels = list ['red', 'blue', 'red', 'green']
cats = cat_from_str(labels)
println(cats)

labels2 = cat_to_str(cats)
println(labels2)
println(get(labels2, 0))
println(get(labels2, 1))
println(type(labels2))
